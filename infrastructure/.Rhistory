infrastructure.folder
list.files()
ppi.in
head(ppi.in)
names(ppi.in)
list.files()
dim(rocks.in)
tail(rocks.in)
names(rocks.in)
head(rocks.in$CCY)
vignette(maptools)
map_data
bob <- map_data("world")
dim(bob)
?map_data
bob <- map_data("africa")
??maps
help(package = "maps")
dim(world)
names(world)
table(world$subregion)
table(world$region)
sum(country.in.rocks)
sum(country.in.rocks)
length(rocks.country.tab)
setdiff(rocks$country %>% unique(), world$region %>% unique())
world.region <- world$region %>% unique()
world.region
world.region[grep("Congo", world.region)]
world.region[grep("Kyrgyz", world.region)]
world.region[grep("Laos", world.region)]
world.region[grep("Macedonia", world.region)]
world.region[grep("Yugosla", world.region)]
world.region[grep("Yugoslavia", world.region)]
world.region[grep("Seribia", world.region)]
world.region[grep("Serbia", world.region)]
world.region[grep("Montenegro", world.region)]
rocks$country[country ==  "Yugoslavia, FR (Serbia/Montenegro)"]
rocks %>% filter(country ==  "Yugoslavia, FR (Serbia/Montenegro)")
dim(rocks %>% filter(country ==  "Yugoslavia, FR (Serbia/Montenegro)"))
setdiff(rocks$country %>% unique(), world$region %>% unique())
?recode
setdiff(rocks$country %>% unique(), world$region %>% unique())
head(world.df)
coverage.plot
coverage.plot
arrange(world.df, region) %>% pull(region) %>% unique()
coverage.plot
table(rocks$project_id)
length(table(rocks$project_id))
n.projects
with(rocks, table(project_id, section))
rownames(proj.section)
colnames(proj.section)
proj.section[["S1"]]
proj.section["S1"]
proj.section["S1",]
proj.section$S1
proj.section[1,]
proj.section[,1]
proj.section[,1] != 0
proj.section[,proj.section[,1] != 0]
proj.section[proj.section[,1] != 0, ]
head(proj.section[proj.section[,1] != 0, ])
rocks$cost_type
rocks.estimate$cost_M_USD
length(rocks.estimate$cost_M_USD)
bob <- data.frame(proj.section)
head(bob)
head(proj.section)
filter(proj.section, section_freq >  1)
filter(rocks, project_id ==  "P004397")
data.frame(filter(rocks, project_id ==  "P004397"))
data.frame(filter(rocks.estimate, project_id ==  "P004397"))
proj.component.tab
data.frame(filter(rocks.estimate, project_id ==  "P064821"))
dim(chk)
dim(rocks.estimate)
dim(chk)
dim(chk %>% unique() )
head(chk)
data.frame(filter(rocks.estimate, project_id ==  "P078284"))
data.frame(filter(rocks.estimate, project_id_in ==  "P078284"))
data.frame(filter(rocks.estimate, project_code_in ==  "P078284"))
sum(is.na(rocks.estimate$code))
rocks.estimate$code
length(rocks.estimate$code %>% unique())
)
data.frame(head(rocks))
summary(rocks$project_idx)
?do
data.frame(head(rocks))
data.frame(head(rocks))
dim(rocks)
dim(rocks)
dim(rocks.in)
dim(rocks)
summary(rocks$section_idx)
dim(rocks)
data.frame(head(rocks))
summary(rocks$section_idx)
rocks %>% filter(section_idx == 153)
rocks %>% filter(project_code_in == "P065779")
rocks %>% filter(project_code_in == "P065779") %>% select(component)
rocks %>% filter(project_code_in == "P065779") %>% select(component_code_in)
rocks %>% filter(project_code_in == "P065779") %>% select(component_code_in)  %>%  table()
n.sections
n.projects
rocks.estimate$length_km
sum(rocks.estimate$length_km)
summary(rocks.estimate$length_km)
rocks.country
rocks.country
rocks.country
rocks.country
rocks.country
rocks.country
rocks.country
rocks.country
rocks.country %>% select(country, project_idx,  session_code, n_session)
rocks.country %>% select(country, project_idx,  section_code, n_section)
rocks.country %>% select(country, project_idx,  section_code, n_sections)
rocks.country %>% select(country, project_idx,  section_code, n_sections) %>% filter(country  == "Afghanistan")
rocks.country %>% select(country, project_idx,  section_code, n_sections) %>% filter(country  == "Afghanistan")
rocks.country %>% select(country, project_idx, n_projects,section_code, n_sections) %>% filter(country  == "Afghanistan")
rocks.country %>% select(country, project_idx, n_projects,section_code, n_sections) %>% filter(country  == "Afghanistan")
dim(rocks.country)
group_size(rocks.country)
n.projects
n.sections
rocks.country %>% select(country, project_idx, n_projects,section_code, n_sections) %>% filter(country  == "Afghanistan")
rocks.country
rocks.country
group_size(rocks.country)
rocks.country
rocks.country
 n_projects = group_size(rocks.country)
n_projects
dim(rocks.country)
head(rocks.country)
head(rocks.country)
rocks.country
rocks.country
rocks.country
rocks.country
rocks.country
rocks.country
world.df
head(world.df)
head(world.df)
tail(world.df)
summary(rocks.country$n_projects)
table(rocks.country$n_projects)
coverage.plot
coverage.plot
head(world.df)
coverage.plot
coverage.plot
"Ghana" %in%  rocks$country
rocks$year
table(rocks$year)
rocks.country
names(rocks)
head(units.df)
head(units.df)
head(units.df)[1,]
head(units.df)[1,1]
head(units.df)[1,2]
head(units.df)[1,3]
length(head(units.df)[1,3])
head(units.df)
dim(units.df)
sum(is.na(units.df$Ratio))
units.plot
units.plot
dim(rocks0
dim(rocks)
group_indices(rocks)
length(group_indices(rocks))
head(rocks)
head(rocks) %>% select(project_code_in,  component_code_in, section_code_in)
head(rocks) %>% select(project_code_in,  component_code_in, section_code_in, project.component.section)
head(rocks) %>% select(project_code_in,  component_code_in, section_code_in, proj.component.section)
head(rocks) %>% select(project_code_in,  component_code_in, section_code_in, proj.component.section, project_idx, section_idx, section_code)
data.frame(head(rocks) %>% select(project_code_in,  component_code_in, section_code_in, proj.component.section, project_idx, section_idx, section_code))
data.frame(head(rocks) %>% select(project_code_in,  component_code_in, section_code_in, proj.component.section, project_idx, section_idx, section_code,  cost_ype))
data.frame(head(rocks) %>% select(project_code_in,  component_code_in, section_code_in, proj.component.section, project_idx, section_idx, section_code,  cost_type))
head(units.df)
filter(rocks, section_code == 193332)
head(units.df)
head(units.df)
table(units.df$Estimate)
table(units.df$Actual)
table(units.df$Ratio, useNA = "always")
units.plot
units.plot
dim(units.df)
length(rocks$section_code %>%  unique())
summary(units.df$Estimate)
summary(units.df$Actual
)
list.files()
dim(wb.dt)
head(wb.dt)
setdiff(rocks$country, wb.dt$country)
setdiff(rocks.in$country, wb.dt$country)
names(rocks.in)
wb.dt %>%
          select(country, ccode) %>%
          unique(),
          by.x = "country",
          by.y = "country",
          all.x = TRUE)
bob <- wb.dt %>% select(country, ccode) %>%
          unique())

bob <- wb.dt %>% select(country, ccode) %>%
          unique()
bob
data.frame(bob)
install.packages("vtable")
vignetter(vtable)
vignette(vtable)
vignette(package =  "vtable")
help(package  =  "vtable")
vignette(topiv =  "vtable")
vignette(topic =  "vtable")
vtable(bob)
library(vtable)
vtable(bob)
data.frame(bob)
setdiff(rocks.in$country, wb.dt$country)
dim(rocks)
rocks$ccode
sum(is.na(rocks$ccode))
filter(rocks, is.na(rocks$ccode))  %>% select(country, ccode)
sum(is.na(rocks$ccode))
wb.in$series
wb.in$series %>% unique()
names(wb.in)
list.files()
country.codes
names(country.codes)
data.frame(bob)
names(country.codes)
setdiff(rocks.in$country, country.codes$wb)
setdiff(rocks.in$Country, country.codes$wb)
sum(is.na(rocks$ccode))
head(wb.use)
head(rocks)
units.plot
log(2)
log(10)
?scale_log10
?xscale_log10
?scale_x_log10
units.plot <- ggplot(units.df,
                     aes(x = Estimate, y  = Actual,
                         colour = wb_region)) +
    geom_point() +
    geom_abline(slope =  1, intercept = 0)  +
    scale_x_log() +
    scale_y_log()
sum(units.df$Actual > 1)
sum(units.df$Actual < 1)
dim(units.df)
490 / 543
sum(units.df$Actual < 2)
sum(units.df$Estimate < 2)
sum(units.df$Estimate < 3)
sum(units.df$Estimate < 4)
sum(units.df$Estimate < 5)
sum(units.df$Estimate < 6)
sum(units.df$Estimate < 10)
sum(units.df$Estimate < 12)
table(units.df$Estimate)
summary(units.df$Estimate)
sum(units.df$Estimate < 12)
dim(units.df$Estimate < 12)
dim(units.df)
dim(units.df$Estimate < 1)
sum(units.df$Estimate < 1)
500/557
sum(units.df$Estimate < 2)
527/557
names(rocks)
filter(rocks, is.na(wb_region))
units.histogram
dim(units.df)
units.df
rocks$ccode
country.codes$code
head(ccodes.df)
head(rocks.in)
head(ccodes.df)
ccodes.merge.df$rocks_country
head(rocks) %>% data.frame()
dim(rocks)
dim(ccodes.merge.df(
)
)
dim(ccodes.merge.df)
dim(rocks.in)
dim(rocks.in)
dim(ccodes.merge.df)
dim(rocks)
head(rocks)
n.projects
n.sections
coverage.plot
dim(units.df)
head(units.df)
dim(units.df)
n.projects
names(nits.df)
names(units.df)
length(units.df$project_idx)
length(units.df$project_idx %>% unique())
162 * 2
282  - 162
head(units.df)
head(units.df)
dim(units.df)
head(units.df)
units.df.wrong <- units.df
head(units.df)
head(units.df.wrong%>% select(ccode, cost_type, project_idx)
head(units.df)
dim(units.df)
head(subunits.df)
head(subunits.df) %>% select(!wb_region)
head(subunits.df) %>% select(-c(wb_region))
data.frame(head(subunits.df) %>% select(-c(wb_region)))
data.frame(head(subunits.df) %>% select(-c(wb_region)))
dim(rocks.in)
units.df$year
rocks.df %>%filter(cost_type != "Ratio")%>% pull(year)  %>% table
rocks %>%filter(cost_type != "Ratio")%>% pull(year)  %>% table
rocks %>%filter(cost_type == "Actual")%>% pull(year)  %>% table
rocks %>%filter(cost_type == "Actual" & year == "1991")%>% pull(year)  %>% table
rocks %>%filter(cost_type == "Actual" & year == "1991")
list.files("data")
setwd("data")
names(rocks.old.in)
names(rocks.old.in)
grep("Yemen", rocks.update.in$Country)
rocks.update.in$Country[grep("Yemen", rocks.update.in$Country)]
rocks.update.in$Country[grep("Venezuala", rocks.update.in$Country)]
rocks.update.in$Country[grep("COngo", rocks.update.in$Country)]
rocks.update.in$Country[grep("Congo", rocks.update.in$Country)]
rocks.update.in$Country[grep("Iran", rocks.update.in$Country)]
bob
data.frame(bob)
setdiff(rocks.old.in$COUNTRY, country.codes$wb)
setdiff(rocks.old.in$COUNTRY, country.codes$wb)[[2]]
bob[211,1]
bob[211,1][[1]]
bob[211,1][[1]] ==setdiff(rocks.old.in$COUNTRY, country.codes$wb)[[2]]
country.codes$wb
setdiff(rocks.old.in$COUNTRY, country.codes$wb)
bob[211,1]
bob
data.frame(bob)
setdiff(rocks.old.in$COUNTRY, country.codes$wb)
ccodes.merge.df
names(rocks.old.in)
names(rocks.old.in) %>% tolower90
names(rocks.old.in) %>% tolower()
rocks.old.in$SECTION
str(rocks.old.in$SECTION)
sum(is.na(rocks.old.in$SECTION))
dim(rocks.old.in)
head(rocks.old.in$date)
head(rocks.old.in$date)[[1]]
as.Date(head(rocks.old.in$date))
as.Date(head(rocks.old.in$date))%>% format(%Y)
as.Date(head(rocks.old.in$date))%>% format("%Y")
names(rocks.old.in) %>% tolower()
intersect(names(rocks.update), names(rocks.old))
intersect(names(rocks.update), names(rocks.old))
intersect(names(rocks.update), names(rocks.old))
dim(rocks.total)
table(rocks.total$country)
dim(rocks.total)
head(rocks.total)
rocks.total$duration
names(rocks.old.in) %>% tolower()
head(rocks.total)
length(rocks.total$project_code_in %>% unique())
dim(rocks.total)
dim(rocks.total)
n.projects
n.sections
names(rocks.total)
names(rocks.old.in)
names(rocks)
